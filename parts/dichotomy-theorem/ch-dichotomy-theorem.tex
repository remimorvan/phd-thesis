\chapter{A Dichotomy Theorem for Automatic Structures}

\begin{abstract}%
	\marginnote[2.5em]{%
		\Cref{sec:dichotomy-colouring} corresponds to \cite[\S\S~3--6]{BarceloFigueiraMorvan2023SeparatingAutomatic}, which has been published at MFCS '23,
		and is a joint work with Pablo Barcel√≥ and Diego Figueira.
		Part of the introduction also comes from \cite{BarceloFigueiraMorvan2023SeparatingAutomatic}.
		\par{}Part of the dichotomy theorem---\Cref{sec:dichotomy-overview,sec:undecidability-hom,sec:hyperedge-consistency-finite,sec:hyperedge-consistency-automatic}---was proven during 
		the internship of Antoine Cuvelier that I supervised in Summer 2024.
		\par{}We thank Joanna Fijalkow for helpful discussions on constraint satisfaction problems.%
	}%
	We study the separation problem of "synchronous relations", "aka" "synchronous relations",
	by "recognizable relations"---namely finite unions of Cartesian products of "regular languages".
	We prove it to be computationally equivalent to the "finite regular colourability of rational graphs", that takes an "rational presentation" of a "graph" as input, and asks whether
	it admits a "regular colouring"---meaning that for each colour, the set of words representing the elements having this colour is a "regular language"---with finitely many colours.

	We first show that, if the number of colours is fixed to be any natural number $k \geq 2$, then
	this problem is undecidable. This implies the undecidability of the separation problem
	of "synchronous relations" by "recognizable relations" where the number of unions allowed is bounded.

	We then generalize this result, and prove a dichotomy theorem for automatic structures:
	for any "relational structure" $\?B$, the problem of whether an "automatic structure"
	admits a "homomorphism" to $\?B$ is either decidable in "NL", or is undecidable.
	We extend these results to "regular homomorphisms", for which we require the "homomorphisms"
	to be "regular@@hom", in the sense that every preimage of any element of the "target structure" $\?B$ must be a "regular language". In both cases, "structures" for which the problem is 
	decidable are those with ``"finite duality"''. 
	
	Using this dichotomy theorem, we then prove that the original problem, 
	namely the separation problem of "synchronous relations"
	by "recognizable relations" is undecidable.
\end{abstract}
\clearpage
\chaptertoc
\clearpage

todo: say somewhere that
"regular homomorphisms"
are similar to ``definable homomorphisms'' in \cite{KlinLasotaOchremiakTorunczyk2016HomomorphismProblems}.
% \lipsum[1]
% \citemain[Test]{Atserias2008DigraphColoring}

% \lipsum[1]
% \footnote{Test: \citeside[Definition 2.11 \& Definition 1.26]{Immerman1998DescriptiveComplexity}. \simplecite{Immerman1998DescriptiveComplexity}}

\input{parts/dichotomy-theorem/sec-introduction}
\input{parts/dichotomy-theorem/sec-preliminaries}
\input{parts/dichotomy-theorem/sec-colouring}
\input{parts/dichotomy-theorem/sec-undecidability}
\input{parts/dichotomy-theorem/sec-decidability}
\input{parts/dichotomy-theorem/sec-discussion}
