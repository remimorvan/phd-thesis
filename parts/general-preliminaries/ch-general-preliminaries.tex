\chapter{General Preliminaries}
\label{ch:general-preliminaries}

\chaptertoc

\section{General math stuff}

\begin{itemize}
	\itemAP powerset: $\intro*\pset{X}$ and $\intro*\psetp{X}$.
	\itemAP function restriction: $\intro*\restr{f}{X}$.
	\itemAP bracket notation for image/preimage $f[X], f^{-1}[X]$ and $f^{-1}[y]$ (even if $f$ is not bijective)
	\itemAP ""symmetric@@rel"", ""reflexive relation"", ""functional relation""
\end{itemize}

\section{Automata}

\begin{itemize}
	\itemAP ""regular language"", $\intro*\2$
	\itemAP $\intro*\transition{a}$
\end{itemize}

\section{Monoids}

\begin{itemize}
	\itemAP ""finite monoid"", ""monoid morphism""
	\itemAP ""syntactic monoids"", ""syntactic morphism""
	\itemAP ""pseudovariety of finite monoids"", ""pseudovariety of regular languages""
	\itemAP ""membership@@problang""
\end{itemize}

\section{Logic}

\begin{itemize}
	\itemAP ""first-order logic""
	\itemAP ""first-order formula"", ""first-order sentence""
	\itemAP ""models"", $\intro*\FOmodels$ and $\intro*\semFO{-}{-}$
	\itemAP ""quantifier alternation""
	\itemAP ""first-order definable""
	\itemAP ""existential formula"", ""existential-positive formula"",
		""positive quantifier-free formula""
	\itemAP ""monadic second-order logic""
\end{itemize}

\section{Structures and homomorphisms}

\begin{itemize}
	\itemAP ""disjoint union""
	\itemAP ""Cartesian product"" and iter: $\intro*\prodstruct$ and $\intro*\iterstruct{-}{-}$
	\itemAP ""block product""
	\itemAP ""signature"" and ""predicate""
	\itemAP ""purely relational signature"", ""graph signature"", ""signature of binary strings""
	\itemAP ""$\sigma$-structure"", ""pointed $\sigma $-structure""
	\itemAP ""interpretation@@predicate"" of a "predicate", ""$\+R$-tuple"" and \reintro{hyperedge}
	\itemAP ""finite $\sigma$-structure"", ""locally finite structure""
	\itemAP ""substructure"", ""induced substructure"", ""proper substructure""
	\itemAP ""queries@@sem""
\end{itemize}

Graphs:
\begin{itemize}
	\itemAP ""graphs@@dir""
	\itemAP ""directed tree"", ""directed cycle"", ""DAG""
	\itemAP ""$k$-colouring"", ""$k$-colourable"", ""finitely colourable"", ""chromatic number"", ""$k$-clique"" $\intro*\clique{k}$ and ""$k$-colourability problem""
\end{itemize}


Homomorphisms:
\begin{itemize}
	\itemAP ""homomorphism"": $\?A \intro*\homto \?B$ 
	\itemAP ""homomorphically equivalent""
	\itemAP kernel congruence $\intro*\ker{-}$, ""quotient structure"", ""congruence induced""
	\itemAP projection: $\intro*\projHom{i}$
	\itemAP ""input structure"", ""target structure""
	\itemAP ""isomorphism"", ""isomorphic"", ""automorphism""
	\itemAP ""embedding"", ""strong onto""
\end{itemize}

Homomorphism problem:
\begin{itemize}
	\itemAP ""homomorphism problem""
	\itemAP ""constraint satisfaction problem""
\end{itemize}

\subsection{Cores (should maybe go to intro ?).}

A \AP""core"" is blabla, we denote by \AP$\intro*\core{\?B}$ the "core" of $\?B$.

\begin{proposition}
	\AP\label{prop:automorphism-core}
	Given a "$\sigma$-structure" $\?B$, $\?B$ is a "core" "iff" all "homomorphisms"
	from $\?B$ to itself are "automorphisms".
\end{proposition}

\begin{itemize}
	\itemAP ""rigid""
\end{itemize}

\subsection{Adjacencies}

Given a "$\sigma$-structure" $\?A$ and $a \in A$, we define the \AP""adjacency""%
\footnote{We do not use the terminology \emph{neighbourhood} since it usually refers
to a set of elements, namely the set of elements occurring in the "adjacency".}
of $a$ in $\?A$ to be the tuple of sets%
\AP\phantomintro{\adjacency}
\begin{align*}
	\reintro*\adjacency{a}{\?A}{\+R}{i} & \defeq
	% \Big\langle
		\big\{
			\langle a_1, \dotsc, a_{i-1}, a_{i+1}, \dotsc, a_k \rangle \in A^{k-1}
			\\ & \hphantom{\defeq \big\{ }\mid
			\langle a_1, \dotsc, a_{i-1}, a, a_{i+1}, \dotsc, a_k \rangle \in \+R(\?A)
		\big\},
		% \;\big\vert\;
		% \+R_{(k)} \in \sigma \text{ and } i \in \lBrack 1,k\rBrack
	% \Big\rangle.
\end{align*}
when $\+R$ ranges over "predicate" of arity $k$ of $\sigma$ and $i \in \lBrack 1,k\rBrack$. 
\todo{ introduce notation $\+R_{(k)} \in \sigma$}
For "graphs@@dir", the "adjacency" of a vertex corresponds to its set of predecessors and
its set of successors.

\begin{proposition}
	\AP\label{prop:adjacency-core}
	Given a "$\sigma$-structure" $\?B$, if $\?B$ is a "core", then
	two elements $b_1$ and $b_2$ of $\?B$ have the same "adjacency" "iff" $b_1 = b_2$.
\end{proposition}

\begin{proof}
	The right-to-left implication is trivial.
	For the converse one, consider the "homomorphism" from $\?B$ to itself
	which maps $b_2$ to $b_1$, and all elements of $B \smallsetminus \{b_2\}$
	to themselves. Since we assumed that $b_1$ and $b_2$ have the same "adjacency",
	this is indeed a "homomorphism", which is clearly not bijective, and
	hence by \Cref{prop:automorphism-core}, $\?B$ is not a "core".
\end{proof}

\subsection{Undirected Paths}

An \AP""undirected path"" in a "$\sigma$-structure" $\?A$ consists of a sequence
\[\big\langle a_0,\, \bar h_0,\, a_1,\, \dotsc,\, \bar h_{n-1},\, a_n\big\rangle, \text{ with } n \in \N,\]
where $a_i \in A$ and each $\bar h_i$ is a "hyperedge" of $\?A$ "st" both
$a_i$ and $a_{i+1}$ occur in $\bar h_i$. When such an "undirected path" exists, we say that
there is an "undirected path" between $a_0$ and $a_n$, or equivalently
that $a_0$ and $a_n$ are \AP""connected"".%
\sidenote{Note that this defines an equivalence relation.}
A \AP"connected component" of $\?A$ consists of an equivalence class under this relation.

\begin{itemize}
	\itemAP ""incidence graph"" $\intro*\IncidenceGraph{\?A}$, ""distance@@struct"" and ""diameter""
	\itemAP ball: $\intro*\ball{\?A}{a}{m}$
	\itemAP ""simple path""
\end{itemize}

\section{Complexity}

\begin{itemize}
	\itemAP ""Turing machine""
	\itemAP ""configuration@@TM""
	\itemAP ""initial configuration""
	\itemAP ""reachable configuration""
\end{itemize}

\begin{itemize}
	\itemAP ""Connectivity in Finite Graphs""
	\itemAP ""Reachability in Finite Graphs""
	\itemAP ""computationally equivalent""
	\itemAP ""data complexity""
	\item \cite{Schmitz2016ComplexityHierarchies} for "Tower" $\intro*\tower$
\end{itemize}