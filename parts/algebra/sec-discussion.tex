\section{Discussion}
\label{sec:algebra-discussion}

\subsection{Path Algebras and the Lifting Theorem}

A natural next step is to generalize \Cref{quest:V-relations} by replacing
$\WellFormed$ by a fixed "regular language" $\Omega$.

\begin{question}
	Given a class of regular languages $\+V$, can we characterize the class $\+V^\Omega$
	of all languages of the form $L \cap \Omega$ for some $L \in \+V$, in a way that preserves decidability?
\end{question}

\begin{remark}
	\label{rk:no-algo-lifting}
	There is no (meta$^2$-)algorithm taking as input a "regular language" $\Omega$,
	and returning a (meta-)algorithm "st", given
	a membership algorithm for $\+V$, returns a membership algorithm
	for $\+V^\Omega$.

	Let $\+V$ be a "pseudovariety of regular languages" with
	decidable membership but undecidable separation---see
	\cite[Corollary 1.6, p.~478]{Rhode2011Pointlike} and \Cref{footnote:undecidability-separation}.
	We reduce the $\+V$-separability problem to our problem.

	Given two regular languages $L_1$ and $L_2$, to decide if they are $\+V$-separable,
	we first test if $L_1 \cap L_2 = \emptyset$: if not, we reject.
	Otherwise, we let $\Omega \defeq L_1 \cap L_2$, and ask whether
	$L_1$ is in $\+V^\Omega$.
	By definition, this happens "iff" $L_1$ can be written as
	$S \cap \Omega = S \cap (L_1 \cup L_2)$ for some $S \in \+V$.
	Since $L_1$ and $L_2$ are disjoint, the equality $L_1 = S \cap (L_1 \cup L_2)$
	is precisely equivalent to having $L_1 \subseteq S$ and $S \cap L_2 = \emptyset$.
	Hence, $L_1$ is in $\+V^\Omega$ if, and only if, $L_1$ and $L_2$ are $\+V$-separable.
\end{remark}

What this remark shows is that actually the language $\WellFormed$ is special,
in the sense that we relied on some of its specific properties to obtain the "Lifting theorem".

We claim that the construction of "synchronous algebras"
can be generalized for any $\Omega$, giving rise to the notion of ``path algebras''.%
\footnote{In short, they are the adaptation of
the free category generated by a graph to "dependent sets". See also \Cref{apdx:monads}.}
The "lifting theorem for monoids" can be shown to hold for some $\Omega$, including "well-formed words" for $n$-ary relations with $n\geq 3$, and that it cannot effectively hold for all $\Omega$.
We believe that a necessary condition for the "Lifting theorem" to hold
would be that $\Omega$ is ""fully-preordered@@lang"",
in the sense that there exists a preorder $\preccurlyeq$ on the alphabet $\Sigma$
"st" $\Omega = \{u_1 \dotsc u_n \in \Sigma^* \mid u_1 \preccurlyeq \dotsc \preccurlyeq u_n\}$.%
\footnote{The important property about these languages is that
the monad defining their path-algebras are strongly acyclic, like the
monad of \Cref{apdx:monads}.}

\subsection{Path Algebras and Restricted Head Movements}

A natural next step would then be to study the relationship between ``path algebras'' and
Figueira \& Libkin's "$T$-controlled relations" defined
in \Cref{sec:preliminaries-automatic-structures-relations-restricted-head-movements}.
For any regular language $T \subseteq \intInt{1,k}^*$, we claim that we can define a regular language $\Omega_T$ such that finite $\Omega_T$-path algebras exactly recognize 
"$T$-controlled relations".

\begin{restatable}{conjecture}{conjAdjunctionControlledRelations}
	\AP\label{conj:controlled-relations-category-equivalence}
	There is a way of defining a map $T \mapsto \Omega_T$ "st"
	for any regular languages $T_1, T_2 \subseteq \intInt{1,k}^*$,
	"$T_1$-controlled relations" are included in "$T_2$-controlled relations" if, and only if,
	there is an adjunction from the category of $\Omega_{T_1}$-path algebras to the category of
	$\Omega_{T_2}$-path algebras.
\end{restatable}

% \subsection{Separability by Recognizable Relations}
% \label{sec:algebra-discussion-recognizable-pseudovar}

% The algebraic framework developed here could provide a foundation
% to tackle the "$\AUT$/$\REC$-separability problem",
% provided that $\REC$ has some nice closure properties.
% We start that, unfortunately, by showing that $\REC$ is not a "pseudovariety of automatic relations".

% \begin{proposition}
% 	The class of "recognizable relations" is not closed under "residuals".
% \end{proposition}

% Before proving this point, we actually want to point out that it is less trivial
% than one could \emph{a priori} expect: of course, with a naive definition of "residual",
% we would get that $\proj{a^* \times a^*}\cdot \residual{\pair{a}{a}}$ equals $\proj{\{\tup{a^n, a^n} \mid n\in\N\}}$ which is not "recognizable@@rel". However, using the proper definition of "residuals",
% it turns out that $\proj{a^* \times a^*}\cdot \residual{\pair{a}{a}} = \proj{a^* \times a^*}$
% is a "recognizable relation"â€¦

% \begin{proof}
% 	\todo{todo!}
% \end{proof}