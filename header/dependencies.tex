\usepackage{polyglossia}
\setmainlanguage{english}

\usepackage[protrusion=true,expansion,babel]{microtype}
\usepackage{booktabs}
\usepackage{graphicx}
\usepackage{lipsum}
\usepackage{stmaryrd}
\usepackage{multicol,multirow}
\usepackage{ifthen}
\usepackage{luacode}
\usepackage{cancel} % \cancel command (bc \not is not working, idk whyâ€¦)
% \usepackage{subcaption}
\usepackage{epigraph}
\usepackage{proof}
\usepackage[export]{adjustbox} % valign for includegraphics
\usepackage{stackengine}
\usepackage{relsize} % relative sizes: \smaller, \larger

\usepackage{appendix,chngcntr} % appendix after each chapter
% see https://tex.stackexchange.com/questions/120716/appendix-after-each-chapter
% Start of subappendices environment
\AtBeginEnvironment{subappendices}{%
\section*{Appendices}
% \addcontentsline{toc}{chapter}{Appendices}
\counterwithin{figure}{section}
\counterwithin{table}{section}
}
% End of subappendices environment
\AtEndEnvironment{subappendices}{%
\counterwithout{figure}{section}
\counterwithout{table}{section}
}

\usepackage{listings}
\lstdefinestyle{mystyle}{
    language={}, %You shall leave this blank 
    tabsize=4,
    label={lst:code_direct},
    backgroundcolor=\color{cLightGrey!30!white},   
    commentstyle=\color{cDarkGrey},
    keywordstyle=\color{maincolor},
    numberstyle=\sffamily\color{cGrey}\footnotesize,
    stringstyle=\color{cBlue},
    basicstyle=\footnotesize\sffamily,
    emphstyle=\color{cOrange!50!cYellow},
    columns=fullflexible,
    breaklines=true,
    keepspaces=true,
    numbers=left,
    numbersep=10pt,
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
	tabsize=4,
	framesep=8pt,
	frame=tblr,
	framerule=0pt,
    framexleftmargin=6mm,
    xleftmargin=24pt,
    xrightmargin=6pt,
}
\lstset{style=mystyle}
\newcommand{\KeywordSymbol}[1]{\textcolor{maincolor}{#1}}
\newcommand{\KeywordSymbolBold}[1]{\KeywordSymbol{\textbf{#1}}}
\newcommand{\EmphSymbol}[1]{\textcolor{cOrange!50!cYellow}{#1}}

\lstdefinelanguage{mysql}{
    morekeywords={SELECT,FROM,WHERE},
    morestring=[b]"
}
\lstdefinelanguage{mysparql}{
    morekeywords={SELECT,FROM,WHERE,FILTER,LANG,CONTAINS,YEAR,LIMIT},
    moreemph={wdt,wd,rdfs},
    morestring=[b]",
    literate={/}{{\KeywordSymbolBold{/}}}1
        {*}{{\KeywordSymbolBold{$\symbf{\ast}$}}}1
        {:}{{\EmphSymbol{:}}}1
}
\lstdefinelanguage{myclingo}{
    morekeywords={show},
    morecomment=[l]{\%},
    literate={:-}{{\KeywordSymbol{:-}}}1 
        {==}{{\EmphSymbol{==}}}1
        {!=}{{\EmphSymbol{!=}}}1
}

\usepackage[most]{tcolorbox}
\usepackage{bbding} % \HandRight
% Lettrines
% \usepackage{lettrine}
% \newfontface\gleaf{GothicLeaf-VEay}
% \renewcommand{\LettrineFontHook}{\gleaf}
% \setcounter{DefaultLines}{3}

\usepackage{simplewick} % \contraction for Bourbaki's logic https://tex.stackexchange.com/questions/649665/how-can-i-link-symbols-over-a-mathematical-expression-in-latex
\usepackage{frege} % Frege
\usepackage{csquotes}
\renewcommand*{\mkcitation}[1]{ ---#1.}

% Algorithms
\usepackage[noend]{algorithm2e}
\SetKwInput{KwInput}{Input}
%https://tex.stackexchange.com/questions/37181/linebreak-in-package-algorithm2e
\makeatletter
\newcommand{\nosemic}{\renewcommand{\@endalgocfline}{\relax}}% Drop semi-colon ;
\newcommand{\dosemic}{\renewcommand{\@endalgocfline}{\algocf@endline}}% Reinstate semi-colon ;
\newcommand{\pushline}{\Indp}% Indent
\newcommand{\popline}{\Indm\dosemic}% Undent
\makeatother

% Subfigures & \subfloat
\RequirePackage[caption=false]{subfig} % caption incompatible with tufte
\captionsetup[subfloat]{margin=.5em}