\newrobustcmd{\fancyand}{{\setmainfont{Tex Gyre Pagella}\textit{\&}}}
\newrobustcmd{\esp}{\ensuremath{\;\cdot\;}}
\newrobustcmd{\al}{\textsuperscript{al}}
\newrobustcmd{\ic}{\textsuperscript{ic}}
\newrobustcmd{\todo}[1]{{\color{cRed}todo: #1}}

\newrobustcmd\decisionproblem[3]{
	\begin{center}
	\AP\fbox{%
	\begin{tabular}{rl}
	\multicolumn{2}{l}{#1} \\
	{\emph{Input}}: & \parbox[t]{.73\linewidth}{#2} \\
	{\emph{Question}}: & \parbox[t]{.73\linewidth}{#3}\\[.3em]
	\end{tabular}
	}
	\end{center}
}
\newrobustcmd{\DPfont}[1]{\normalfont{\scshape #1}}

\newrobustcmd\hypothesis[1]{
	\begin{center}\color{maincolor}\adforn{39}~#1\end{center}
}

\usepackage{adforn}
\newrobustcmd{\proofcase}[1]{\adforn{39}~\emph{#1}~}

% ---
% Abstract and Chapter TOC 
% ---

\newenvironment{chapterpresentation}{%
	\null\vfill
	\begin{fullwidth}
	\begin{center}
}{%
	\end{center}
	\end{fullwidth}
	\vfill\null
	\clearpage
}
\newenvironment{abstract}{
	\begin{minipage}{.75\linewidth} \begin{center}\large\textsc{Abstract}\end{center}
}{
	\end{minipage}
}

\newenvironment{acknowledgements}{
	\begin{minipage}{.75\linewidth} \begin{center}\large\textsc{Acknowledgements}\end{center}
}{
	\end{minipage}
}

\newrobustcmd{\clearpagepresentation}{
	\vfill\null\clearpage
}
\newrobustcmd{\chaptertoc}{
	\startcontents
	\begin{center}
		\large\textsc{Contents}
	\end{center}
	\bigskip
	\begin{center}
	\begin{minipage}{.4\linewidth}
	\printcontents{p}{1}{\setcounter{tocdepth}{2}}
	\end{minipage}
	\end{center}
}
\newrobustcmd{\chaptertocstandalone}{
	\thispagestyle{plain}
	\null\vfill
	\chaptertoc
}

% ---
% Smash left/right arrow (used for "hom"/"atom")
% ---
\newrobustcmd\smashxrightarrow[1]{%
  	\raisebox{-.04em}{$%
		\xrightarrow{\smash{\raisebox{-.1em}{%
	  		\tiny{#1}%
		}}}%
  	$}%
}%
\newrobustcmd\smashxleftarrow[1]{%
	\raisebox{-.04em}{$%
		\xleftarrow{\smash{\raisebox{-.1em}{%
			\tiny{#1}%
		}}}%
	$}%
}%

% ---
% Knowledge: intro in restatable
% Usage: instead of \intro use \introinrestatable in restable environments.
% Surround the main statement (where you want the notions to be introduced)
% with a `mainstatement` environment.
% ---

\newif\ifmainstatement
\mainstatementfalse

\newrobustcmd\introinrestatable[1]{%
	\ifmainstatement%
		\intro{#1}%
	\else%
		\kl{#1}%
	\fi%
}

\newenvironment{mainstatement}{
  \mainstatementtrue
}{
  \mainstatementfalse
}

% ---
% Known / contributions boxes
% ---

\newenvironment{known}{%
\medskip
\begin{tcolorbox}[colback=cBlue!20!white, colframe=cBlue]
	\textsc{Foundation.}
}{%
	\end{tcolorbox}
	\medskip
}

\newenvironment{contribution}{%
\medskip
\begin{tcolorbox}[colback=cGreen!20!white, colframe=cGreen]
	\textsc{Contribution.}
}{%
	\end{tcolorbox}
	\medskip
}

\newenvironment{openproblemintro}{%
\medskip
\begin{tcolorbox}[colback=cRed!20!white, colframe=cRed]
	\textsc{Open Problem.}
}{%
	\end{tcolorbox}
	\medskip
}