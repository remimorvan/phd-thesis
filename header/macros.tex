\newrobustcmd{\fancyand}{{\setmainfont{Tex Gyre Pagella}\textit{\&}}}

\newrobustcmd\decisionproblem[3]{
	\begin{center}\AP
	\fbox{%
	\begin{tabular}{rl}
	\multicolumn{2}{l}{#1} \\
	{\emph{Input}}: & \parbox[t]{.73\linewidth}{#2} \\
	{\emph{Question}}: & \parbox[t]{.73\linewidth}{#3}
	\end{tabular}%
	} 
	\end{center}
}
\newrobustcmd{\DPfont}[1]{\normalfont{\scshape #1}}

\usepackage{adforn}
\newrobustcmd{\proofcase}[1]{\adforn{39}~\emph{#1}~}

% ---
% Abstract and Chapter TOC 
% ---

\newenvironment{abstract}{\begin{center}\large\textsc{Abstract}\end{center}}{}
\newenvironment{acknowledgements}{\begin{center}\large\textsc{Acknowledgements}\end{center}}{}


\newrobustcmd{\chaptertoc}{
  \thispagestyle{plain}
  \begin{fullwidth}
	\null\vfill
    \startcontents
    \begin{center}
      \large\textsc{Contents}
    \end{center}
    \bigskip
	\printcontents{p}{1}{\setcounter{tocdepth}{2}}
	\vfill
  \end{fullwidth}
  \vfill\null
}

% ---
% Smash left/right arrow (used for "hom")
% ---
\newrobustcmd\smashxrightarrow[1]{%
  	\raisebox{-.04em}{$%
		\xrightarrow{\smash{\raisebox{-.1em}{%
	  		\tiny{#1}%
		}}}%
  	$}%
}%
\newrobustcmd\smashxleftarrow[1]{%
	\raisebox{-.04em}{$%
		\xleftarrow{\smash{\raisebox{-.1em}{%
			\tiny{#1}%
		}}}%
	$}%
}%

% ---
% Knowledge: intro in restatable
% Usage: instead of \intro use \introinrestatable in restable environments.
% Surround the main statement (where you want the notions to be introduced)
% with a `mainstatement` environment.
% ---

\newif\ifmainstatement
\mainstatementfalse

\newrobustcmd\introinrestatable[1]{%
	\ifmainstatement%
		\intro{#1}%
	\else%
		\kl{#1}%
	\fi%
}

\newenvironment{mainstatement}{
  \mainstatementtrue
}{
  \mainstatementfalse
}